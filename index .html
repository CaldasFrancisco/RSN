<script type="text/javascript">
        var gk_isXlsx = false;
        var gk_xlsxFileLookup = {};
        var gk_fileData = {};
        function filledCell(cell) {
          return cell !== '' && cell != null;
        }
        function loadFileData(filename) {
        if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
            try {
                var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
                var firstSheetName = workbook.SheetNames[0];
                var worksheet = workbook.Sheets[firstSheetName];

                // Convert sheet to JSON to filter blank rows
                var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
                // Filter out blank rows (rows where all cells are empty, null, or undefined)
                var filteredData = jsonData.filter(row => row.some(filledCell));

                // Heuristic to find the header row by ignoring rows with fewer filled cells than the next row
                var headerRowIndex = filteredData.findIndex((row, index) =>
                  row.filter(filledCell).length >= filteredData[index + 1]?.filter(filledCell).length
                );
                // Fallback
                if (headerRowIndex === -1 || headerRowIndex > 25) {
                  headerRowIndex = 0;
                }

                // Convert filtered JSON back to CSV
                var csv = XLSX.utils.aoa_to_sheet(filteredData.slice(headerRowIndex)); // Create a new sheet from filtered array of arrays
                csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
                return csv;
            } catch (e) {
                console.error(e);
                return "";
            }
        }
        return gk_fileData[filename] || "";
        }
        </script><!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#121212">
  <meta name="description" content="TEMPLATE INTERATIVO ‚Äì ROTINA SAGRADA DE FRANCISCO">
  <link rel="manifest" href="/manifest.json">
  <link rel="icon" href="/favicon.png">
  <link rel="apple-touch-icon" href="/icon-192.png">
  <title>ROTINA SAGRADA</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      padding: 1rem;
      background: #121212;
      color: #FFFFFF;
      text-transform: uppercase;
    }
    h1, h2 {
      color: #FFFFFF;
    }
    .section {
      background: #333333;
      padding: 1rem 1.5rem;
      margin: 1rem 0;
      border-radius: 10px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.5);
    }
    .checklist label {
      display: block;
      margin-bottom: 0.75rem;
      font-size: 1rem;
    }
    input[type="checkbox"], input[type="radio"] {
      margin-right: 0.5rem;
      accent-color: #1E88E5;
    }
    p, ul {
      margin: 0.5rem 0;
      font-size: 1rem;
    }
    .mood-selector {
      display: flex;
      gap: 1rem;
      margin-bottom: 1rem;
    }
    .mood-selector button {
      font-size: 1.5rem;
      padding: 0.5rem;
      border: none;
      background: #444444;
      cursor: pointer;
      border-radius: 5px;
      transition: transform 0.2s, background 0.2s;
    }
    .mood-selector button:hover {
      transform: scale(1.1);
      background: #555555;
    }
    .mood-selector button.selected {
      background: #1E88E5;
    }
    .water-tracker select {
      padding: 0.5rem;
      font-size: 1rem;
      border-radius: 5px;
      background: #444444;
      color: #FFFFFF;
      border: 1px solid #FFFFFF;
    }
    .todo-list input[type="text"], .gratitude input[type="text"], .calendar input {
      width: calc(100% - 2rem);
      padding: 0.5rem;
      margin: 0.5rem 0;
      border: 1px solid #FFFFFF;
      border-radius: 5px;
      background: #444444;
      color: #FFFFFF;
      text-transform: uppercase;
    }
    .pomodoro {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }
    .pomodoro button, .calendar button, #request-notifications, #reset-data {
      padding: 0.5rem;
      font-size: 1rem;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      color: #FFFFFF;
      text-transform: uppercase;
      transition: transform 0.2s, background 0.2s;
    }
    .pomodoro button:hover, .calendar button:hover, #request-notifications:hover, #reset-data:hover {
      transform: scale(1.05);
    }
    .pomodoro button {
      background: #1E88E5;
    }
    .pomodoro button:disabled {
      background: #555555;
    }
    .calendar button {
      background: #2E7D32;
    }
    #request-notifications, #reset-data {
      background: #D81B60;
    }
    .pomodoro span {
      font-size: 1.2rem;
    }
    .mood-date {
      font-size: 0.9rem;
      margin-top: 0.5rem;
    }
    footer p {
      text-transform: none;
    }
  </style>
</head>
<body>
  <h1>üìÖ ROTINA SAGRADA DE FRANCISCO ‚Äì OTIMIZA√á√ÉO TOTAL</h1>

  <div class="section">
    <h2>üîÑ REINICIAR DADOS</h2>
    <button id="reset-data">REINICIAR TODOS OS DADOS</button>
  </div>

  <div class="section">
    <h2>üîî ATIVAR NOTIFICA√á√ïES</h2>
    <button id="request-notifications">PERMITIR NOTIFICA√á√ïES</button>
  </div>

  <div class="section">
    <h2>üçÖ POMODORO TIMER</h2>
    <div class="pomodoro">
      <span id="pomodoro-time">25:00</span>
      <span id="pomodoro-mode">FOCO</span>
      <button id="pomodoro-start">INICIAR</button>
      <button id="pomodoro-pause" disabled>PAUSAR</button>
      <button id="pomodoro-reset">REINICIAR</button>
    </div>
  </div>

  <div class="section">
    <h2>üìÖ ADICIONAR AO GOOGLE AGENDA ‚Äì DAY ONE (1)</h2>
    <div class="calendar">
      <input type="text" id="event-title" placeholder="T√çTULO DO EVENTO">
      <input type="text" id="event-description" placeholder="DESCRI√á√ÉO">
      <input type="date" id="event-date">
      <input type="time" id="event-start">
      <input type="time" id="event-end">
      <button id="add-to-calendar">ADICIONAR AO GOOGLE AGENDA</button>
    </div>
  </div>

  <div class="section">
    <h2>üòä MEU HUMOR HOJE</h2>
    <div class="mood-selector">
      <button data-mood="happy">üòä</button>
      <button data-mood="neutral">üòê</button>
      <button data-mood="sad">üò•</button>
      <button data-mood="frustrated">üò£</button>
      <button data-mood="angry">üò°</button>
    </div>
    <div class="mood-date" id="mood-date"></div>
  </div>

  <div class="section">
    <h2>üíß GARRAFAS DE √ÅGUA (1,8L)</h2>
    <div class="water-tracker">
      <label>QUANTAS GARRAFAS BEBI HOJE: 
        <select id="water-count">
          <option value="0">0</option>
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
          <option value="6">6</option>
          <option value="7">7</option>
          <option value="8">8</option>
          <option value="9">9</option>
          <option value="10">10</option>
        </select>
      </label>
    </div>
  </div>

  <div class="section">
    <h2>‚úÖ TO-DO LIST (M√ÅXIMO 5 TAREFAS)</h2>
    <div class="todo-list">
      <label><input type="checkbox" id="todo1"> <input type="text" id="todo-text1" placeholder="TAREFA 1"></label>
      <label><input type="checkbox" id="todo2"> <input type="text" id="todo-text2" placeholder="TAREFA 2"></label>
      <label><input type="checkbox" id="todo3"> <input type="text" id="todo-text3" placeholder="TAREFA 3"></label>
      <label><input type="checkbox" id="todo4"> <input type="text" id="todo-text4" placeholder="TAREFA 4"></label>
      <label><input type="checkbox" id="todo5"> <input type="text" id="todo-text5" placeholder="TAREFA 5"></label>
    </div>
  </div>

  <div class="section">
    <h2>üôè DI√ÅRIO DE GRATID√ÉO</h2>
    <div class="gratitude">
      <input type="text" id="gratitude1" placeholder="1. SOU GRATO POR...">
      <input type="text" id="gratitude2" placeholder="2. SOU GRATO POR...">
      <input type="text" id="gratitude3" placeholder="3. SOU GRATO POR...">
    </div>
  </div>

  <div class="section">
    <h2>üåô ANTES DE DORMIR (PREPARA√á√ÉO DO DIA SEGUINTE)</h2>
    <div class="checklist">
      <label><input type="checkbox" id="sleep1"> SEPARAR ROUPA DE TREINO E ROUPA DO DIA SEGUINTE</label>
      <label><input type="checkbox" id="sleep2"> SEPARAR SUPLEMENTOS DA MANH√É E PR√â-TREINO (CAFE√çNA, CREATINA, BETA-ALANINA, CITRULINA, √îMEGA 3, MAGN√âSIO, B12, BCAA, VENVANSE)</label>
      <label><input type="checkbox" id="sleep3"> DEIXAR WHEY PROTEIN J√Å MEDIDO EM COQUETELEIRA</label>
      <label><input type="checkbox" id="sleep4"> ENCHER GARRAFA DE √ÅGUA E PREPARAR √ÅGUA MORNA COM SAL (LIMPEZA MATINAL)</label>
      <label><input type="checkbox" id="sleep5"> SPRAY NA CAMA (CHEIRO AGRAD√ÅVEL PARA O DESPERTAR)</label>
      <label><input type="checkbox" id="sleep6"> VERIFICAR COMPROMISSOS OU URG√äNCIAS DO DIA SEGUINTE</label>
      <label><input type="checkbox" id="sleep7"> PREPARAR CEN√ÅRIO DE GRAVA√á√ÉO (LUZ, MICROFONE, FUNDO LIMPO)</label>
      <label><input type="checkbox" id="sleep8"> FIXAR SUPORTE DE PAREDES COM V√ÅCUO PARA CALCINHA (PROVIDENCIAR ITEM)</label>
      <label><input type="checkbox" id="sleep9"> SUBSTITUIR TOALHAS QUE SOLTAM PELO (TROCAR POR TOALHAS DE MICROFIBRA PRETA ANTI-FIAPO)</label>
    </div>
  </div>

  <div class="section">
    <h2>‚è∞ 4H00 ‚Äì ACORDAR COM PROP√ìSITO</h2>
    <div class="checklist">
      <label><input type="checkbox" id="wake1"> LEVANTAR NA HORA (SEM SONECA)</label>
      <label><input type="checkbox" id="wake2"> ARRUMAR A CAMA E PASSAR SPRAY AROMATIZADOR</label>
      <label><input type="checkbox" id="wake3"> BEBER √ÅGUA MORNA COM SAL (LIMPEZA INTESTINAL)</label>
      <label><input type="checkbox" id="wake4"> ORA√á√ÉO: "SENHOR, ME CONDUZ HOJE COM FOCO, HONRA, SABEDORIA E MULTIPLICA√á√ÉO. USA MINHA VIDA PARA IMPACTAR OUTRAS E ME GUARDA DO MAL."</label>
      <label><input type="checkbox" id="wake5"> LEITURA DA B√çBLIA E ESTUDO TEM√ÅTICO CONFORME A FREQU√äNCIA QUE ESTOU CRIANDO (EX: PROSPERIDADE: PROV√âRBIOS, ECLESIASTES, DEUTERON√îMIO)</label>
      <label><input type="checkbox" id="wake6"> VISUALIZA√á√ÉO GUIADA (5 MIN): FRANCISCO BILION√ÅRIO, AJUDANDO MILH√ïES, EM PAZ, FORTE E FOCADO</label>
    </div>
  </div>

  <div class="section">
    <h2>‚òï 4H30 ‚Äì CAF√â PRETO E SUPLEMENTOS + SA√çDA PRA TREINO</h2>
    <div class="checklist">
      <label><input type="checkbox" id="supp1"> SUPLEMENTOS: CAFE√çNA + CREATINA + BETA-ALANINA + CITRULINA + BCAA + √îMEGA 3 + MAGN√âSIO + B12 + VENVANSE</label>
      <label><input type="checkbox" id="supp2"> ALONGAMENTO R√ÅPIDO DE 5 MINUTOS</label>
      <label><input type="checkbox" id="supp3"> SAIR AT√â 4H50</label>
    </div>
  </div>

  <div class="section">
    <h2>üèãÔ∏è‚Äç‚ôÇÔ∏è 5H00 ‚Äì 6H10 ‚Äì ACADEMIA</h2>
    <div class="checklist">
      <label><input type="checkbox" id="gym1"> TREINO COM FOCO EM MASSA MAGRA E QUEIMA DE GORDURA</label>
      <label><input type="checkbox" id="gym2"> REGISTRAR PESOS, S√âRIES E REPETI√á√ïES NO APP OU CADERNO</label>
      <label><input type="checkbox" id="gym3"> OUVIR √ÅUDIO BINAURAL SEM LETRA</label>
    </div>
  </div>

  <div class="section">
    <h2>üõÅ 6H10 ‚Äì 6H30 ‚Äì BANHO + PREPARA√á√ÉO</h2>
    <div class="checklist">
      <label><input type="checkbox" id="bath1"> BANHO COM M√öSICA DE FOCO OU EM SIL√äNCIO</label>
      <label><input type="checkbox" id="bath2"> ROUPA J√Å SEPARADA DO DIA ANTERIOR</label>
    </div>
  </div>

  <div class="section">
    <h2>üçΩÔ∏è 6H30 ‚Äì 7H00 ‚Äì CAF√â DA MANH√É ESTRAT√âGICO</h2>
    <div class="checklist">
      <label><input type="radio" name="breakfast" id="breakfast1" value="option1"> OP√á√ÉO 1: 3 OVOS INTEIROS + 50G DE VEGETAIS + 1 FATIA DE P√ÉO DE AVEIA (110G, 280 KCAL)</label>
      <label><input type="radio" name="breakfast" id="breakfast2" value="option2"> OP√á√ÉO 2: SHAKE COM WHEY (30G), 1 BANANA (70G), 1 COLHER DE PASTA DE AMENDOIM (10G) ‚Äì ~300 KCAL</label>
      <label><input type="radio" name="breakfast" id="breakfast3" value="option3"> OP√á√ÉO 3: 2 OVOS + 1 FATIA DE P√ÉO + 100G DE FRUTAS VERMELHAS ‚Äì ~310 KCAL</label>
    </div>
    <p>META: CALORIAS TOTAIS POR REFEI√á√ÉO: 300‚Äì320 KCAL, DENTRO DA META DE 1.100 KCAL POR DIA (FASE 1)</p>
  </div>

  <div class="section">
    <h2>üöÄ 7H00 ‚Äì 9H00 ‚Äì EXECU√á√ÉO PROFUNDA: LUCRO PURO</h2>
    <div class="checklist">
      <label><input type="checkbox" id="work1"> VER 1 FUNIL POR DIA (FRANCISCO, CATARINA, FAGNER, PEDRO)</label>
      <label><input type="checkbox" id="work2"> AJUSTAR OFERTA (PRE√áO, COPY, ESTRUTURA)</label>
      <label><input type="checkbox" id="work3"> VER CAMPANHAS GOOGLE E FACEBOOK ADS (M√âTRICAS + CRIATIVOS)</label>
      <label><input type="checkbox" id="work4"> ESTUDAR CONCORRENTES: O QUE EST√ÉO POSTANDO, CONTE√öDO, REMARKETING, REELS</label>
    </div>
  </div>

  <div class="section">
    <h2>üßπ 9H00 ‚Äì 9H30 ‚Äì RESET DA CASA + WHATSAPP</h2>
    <div class="checklist">
      <label><input type="checkbox" id="reset1"> ARRUMAR AMBIENTE VISUAL</label>
      <label><input type="checkbox" id="reset2"> VER LISTA DE MERCADO</label>
      <label><input type="checkbox" id="reset3"> RESPONDER MENSAGENS IMPORTANTES (M√ÅX. 30 MIN)</label>
    </div>
  </div>

  <div class="section">
    <h2>üåç 9H30 ‚Äì 12H00 ‚Äì CRIA√á√ÉO DE CONTE√öDO</h2>
    <div class="checklist">
      <label><input type="checkbox" id="content1"> PRODUZIR: 2 REELS + 2 POSTS POR DIA</label>
      <label><input type="checkbox" id="content2"> CRIAR 40 CRIATIVOS POR SEMANA (10 POR PROJETO)</label>
      <label><input type="checkbox" id="content3"> GRAVAR 2 CURSOS POR SEMANA COM 14 AULAS TOTAIS (FREQU√äNCIAS: AMOR, PROSPERIDADE, EX, EMAGRECIMENTO)</label>
    </div>
  </div>

  <div class="section">
    <h2>üçΩÔ∏è 12H00 ‚Äì 13H00 ‚Äì ALMO√áO</h2>
    <p>COMIDA LIMPA, LEVE, COM PROTE√çNAS MAGRAS E VEGETAIS</p>
  </div>

  <div class="section">
    <h2>üßº 13H00 ‚Äì 13H30 ‚Äì ORGANIZA√á√ÉO R√ÅPIDA</h2>
    <div class="checklist">
      <label><input type="checkbox" id="org1"> ROUPAS, LOU√áA, AJUSTES B√ÅSICOS</label>
    </div>
  </div>

  <div class="section">
    <h2>‚òÄÔ∏è 13H30 ‚Äì 14H00 ‚Äì SOL NO CORPO + CONEX√ÉO</h2>
    <div class="checklist">
      <label><input type="checkbox" id="sun1"> TOMAR SOL 10‚Äì15 MIN</label>
      <label><input type="checkbox" id="sun2"> LIGAR PARA ALGU√âM IMPORTANTE</label>
    </div>
  </div>

  <div class="section">
    <h2>üìö 14H00 ‚Äì 15H00 ‚Äì ESTUDO DE TR√ÅFEGO</h2>
    <div class="checklist">
      <label><input type="checkbox" id="study1"> ANALISAR CRIATIVOS, ESTRUTURA E SEGMENTA√á√ïES</label>
      <label><input type="checkbox" id="study2"> ESTUDAR GOOGLE ADS, FACEBOOK ADS, REMARKETING, SCRIPTS E CRIATIVOS INTERNACIONAIS</label>
    </div>
  </div>

  <div class="section">
    <h2>üìà 15H00 ‚Äì 16H00 ‚Äì M√âTRICAS + PEND√äNCIAS</h2>
    <div class="checklist">
      <label><input type="checkbox" id="metrics1"> VER TRELLO, HOTMART, MANYCHAT, PLANILHAS</label>
      <label><input type="checkbox" id="metrics2"> DIAGNOSTICAR KPIS E SUGERIR AJUSTES PARA O DIA SEGUINTE</label>
    </div>
  </div>

  <div class="section">
    <h2>üß© 16H00 ‚Äì 17H00 ‚Äì FECHAMENTO DE CICLOS</h2>
    <div class="checklist">
      <label><input type="checkbox" id="close1"> ENCERRAR PEND√äNCIAS, MARCAR FOLLOW-UPS</label>
      <label><input type="checkbox" id="close2"> COBRAR RETORNOS, REPLANEJAR O QUE FICOU ABERTO</label>
    </div>
  </div>

  <div class="section">
    <h2>üí° 17H00 ‚Äì 18H00 ‚Äì CRIATIVOS OU REUNI√ÉO</h2>
    <div class="checklist">
      <label><input type="checkbox" id="create1"> GRAVAR CONTE√öDO NOVO SE N√ÉO HOUVER REUNI√ÉO</label>
      <label><input type="checkbox" id="create2"> REUNI√ÉO COM PAUTA E TEMPO LIMITE (18H30)</label>
    </div>
  </div>

  <div class="section">
    <h2>ü•£ 19H00 ‚Äì JANTAR LEVE</h2>
    <p>SUGEST√ÉO: SOPA DE OSSOS (200ML) COM LEGUMES OU CALDO PROTEICO<br>
    ALTERNATIVA: FRANGO DESFIADO + LEGUMES COZIDOS</p>
  </div>

  <div class="section">
    <h2>üõÅ 19H30 ‚Äì BANHO RELAXANTE + PAZ</h2>
    <div class="checklist">
      <label><input type="checkbox" id="relax1"> LUZ BAIXA, M√öSICA AMBIENTE OU SIL√äNCIO</label>
    </div>
  </div>

  <div class="section">
    <h2>üåô 20H00 ‚Äì CONVERSA + PLANEJAMENTO</h2>
    <div class="checklist">
      <label><input type="checkbox" id="plan1"> FALAR COM ESPOSA, REVISAR AGENDA</label>
      <label><input type="checkbox" id="plan2"> CHECAR SE HAVER√Å URG√äNCIAS OU DECIS√ïES NO DIA SEGUINTE</label>
    </div>
  </div>

  <footer>
    <p style="text-align:center; margin-top: 2rem; font-size: 0.9rem;">Criado por Francisco Caldas ‚Ä¢ Atualizado por CRONOS</p>
  </footer>

  <script>
    // PWA Service Worker Registration
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/sw.js').catch(err => console.error('Service Worker Error:', err));
    }

    // Set current date in mood section
    const moodDate = document.getElementById('mood-date');
    const today = new Date();
    const formattedDate = `${today.getDate().toString().padStart(2, '0')}/${(today.getMonth() + 1).toString().padStart(2, '0')}/${today.getFullYear()}`;
    moodDate.textContent = `DATA: ${formattedDate}`;

    // Reset data
    const resetButton = document.getElementById('reset-data');
    resetButton.addEventListener('click', () => {
      if (confirm('TEM CERTEZA QUE DESEJA REINICIAR TODOS OS DADOS?')) {
        localStorage.clear();
        location.reload();
      }
    });

    // Request notification permission
    const requestNotifications = document.getElementById('request-notifications');
    if ('Notification' in window) {
      requestNotifications.addEventListener('click', () => {
        Notification.requestPermission().then(permission => {
          if (permission === 'granted') {
            new Notification('NOTIFICA√á√ïES ATIVADAS!');
            requestNotifications.disabled = true;
          }
        });
      });
    } else {
      requestNotifications.disabled = true;
      requestNotifications.textContent = 'NOTIFICA√á√ïES N√ÉO SUPORTADAS';
    }

    // Pomodoro Timer with Sounds
    let pomodoroInterval;
    let isRunning = false;
    let isFocus = true;
    let timeLeft = 25 * 60; // 25 minutes in seconds
    const pomodoroTime = document.getElementById('pomodoro-time');
    const pomodoroMode = document.getElementById('pomodoro-mode');
    const startButton = document.getElementById('pomodoro-start');
    const pauseButton = document.getElementById('pomodoro-pause');
    const resetPomodoroButton = document.getElementById('pomodoro-reset');

    // Audio for Pomodoro (base64-encoded WAV, short beeps)
    const focusSound = new Audio('data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA');
    const breakSound = new Audio('data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA');
    const endSound = new Audio('data:audio/wav;base64,UklGRiwAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA');

    function updateTimerDisplay() {
      const minutes = Math.floor(timeLeft / 60).toString().padStart(2, '0');
      const seconds = (timeLeft % 60).toString().padStart(2, '0');
      pomodoroTime.textContent = `${minutes}:${seconds}`;
      pomodoroMode.textContent = isFocus ? 'FOCO' : 'PAUSA';
    }

    function startPomodoro() {
      if (!isRunning) {
        isRunning = true;
        startButton.disabled = true;
        pauseButton.disabled = false;
        focusSound.play();
        pomodoroInterval = setInterval(() => {
          timeLeft--;
          updateTimerDisplay();
          if (timeLeft <= 0) {
            isFocus = !isFocus;
            timeLeft = isFocus ? 25 * 60 : 5 * 60;
            updateTimerDisplay();
            endSound.play();
            if (isFocus) focusSound.play();
            else breakSound.play();
            new Notification(isFocus ? 'HORA DE FOCAR!' : 'HORA DE PAUSAR!');
          }
        }, 1000);
      }
    }

    function pausePomodoro() {
      if (isRunning) {
        isRunning = false;
        clearInterval(pomodoroInterval);
        startButton.disabled = false;
        pauseButton.disabled = true;
      }
    }

    function resetPomodoro() {
      clearInterval(pomodoroInterval);
      isRunning = false;
      isFocus = true;
      timeLeft = 25 * 60;
      updateTimerDisplay();
      startButton.disabled = false;
      pauseButton.disabled = true;
    }

    startButton.addEventListener('click', startPomodoro);
    pauseButton.addEventListener('click', pausePomodoro);
    resetPomodoroButton.addEventListener('click', resetPomodoro);

    // Google Calendar Integration
    const addToCalendar = document.getElementById('add-to-calendar');
    addToCalendar.addEventListener('click', () => {
      const title = document.getElementById('event-title').value;
      const description = document.getElementById('event-description').value;
      const date = document.getElementById('event-date').value;
      const startTime = document.getElementById('event-start').value;
      const endTime = document.getElementById('event-end').value;

      if (title && date && startTime && endTime) {
        const startDateTime = new Date(`${date}T${startTime}`);
        const endDateTime = new Date(`${date}T${endTime}`);
        const formatDate = (d) => d.toISOString().replace(/[-:]/g, '').split('.')[0] + 'Z';
        const calendarUrl = `https://www.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent(title)}&details=${encodeURIComponent(description)}&dates=${formatDate(startDateTime)}/${formatDate(endDateTime)}`;
        window.open(calendarUrl, '_blank');
      } else {
        alert('PREENCHA TODOS OS CAMPOS OBRIGAT√ìRIOS!');
      }
    });

    /* Para integra√ß√£o autom√°tica com Google Calendar via API:
       1. Crie um projeto no Google Cloud Console (console.cloud.google.com).
       2. Habilite a API do Google Calendar.
       3. Crie credenciais OAuth 2.0.
       4. Use Google Apps Script ou um backend (ex.: Node.js) para autenticar e enviar eventos.
       Exemplo de Google Apps Script:
       function createEvent(title, description, start, end) {
         const calendar = CalendarApp.getDefaultCalendar();
         calendar.createEvent(title, new Date(start), new Date(end), { description });
       }
       Hospede este template em um servidor com backend para chamadas API.
    */

    // Mood selector
    const moodButtons = document.querySelectorAll('.mood-selector button');
    const savedMood = localStorage.getItem('selectedMood');
    moodButtons.forEach(button => {
      if (button.dataset.mood === savedMood) {
        button.classList.add('selected');
      }
      button.addEventListener('click', () => {
        moodButtons.forEach(btn => btn.classList.remove('selected'));
        button.classList.add('selected');
        localStorage.setItem('selectedMood', button.dataset.mood);
        new Notification(`HUMOR SELECIONADO: ${button.textContent}`);
      });
    });

    // Water tracker
    const waterSelect = document.getElementById('water-count');
    waterSelect.value = localStorage.getItem('waterCount') || '0';
    waterSelect.addEventListener('change', () => {
      localStorage.setItem('waterCount', waterSelect.value);
      new Notification(`GARRAFAS DE √ÅGUA ATUALIZADAS: ${waterSelect.value}`);
    });

    // To-Do List
    document.querySelectorAll('.todo-list input[type="text"]').forEach((input, index) => {
      const savedText = localStorage.getItem(`todo-text${index + 1}`);
      if (savedText) input.value = savedText;
      input.addEventListener('input', () => {
        localStorage.setItem(`todo-text${index + 1}`, input.value);
      });
    });
    document.querySelectorAll('.todo-list input[type="checkbox"]').forEach((checkbox, index) => {
      const savedState = localStorage.getItem(`todo${index + 1}`);
      if (savedState === 'true') checkbox.checked = true;
      checkbox.addEventListener('change', () => {
        localStorage.setItem(`todo${index + 1}`, checkbox.checked);
        if (checkbox.checked) {
          const taskText = document.getElementById(`todo-text${index + 1}`).value || `TAREFA ${index + 1}`;
          new Notification(`TAREFA CONCLU√çDA: ${taskText}`);
        }
      });
    });

    // Gratitude Journal
    document.querySelectorAll('.gratitude input[type="text"]').forEach((input, index) => {
      const savedText = localStorage.getItem(`gratitude${index + 1}`);
      if (savedText) input.value = savedText;
      input.addEventListener('input', () => {
        localStorage.setItem(`gratitude${index + 1}`, input.value);
      });
    });

    // Breakfast selection
    const breakfastRadios = document.querySelectorAll('input[name="breakfast"]');
    const savedBreakfast = localStorage.getItem('breakfast');
    if (savedBreakfast) {
      document.getElementById(`breakfast${savedBreakfast.slice(-1)}`).checked = true;
    }
    breakfastRadios.forEach(radio => {
      radio.addEventListener('change', () => {
        localStorage.setItem('breakfast', radio.value);
        new Notification(`CAF√â DA MANH√É SELECIONADO: ${radio.parentElement.textContent}`);
      });
    });

    // Checkboxes for routine
    document.querySelectorAll('.checklist input[type="checkbox"]').forEach(checkbox => {
      const savedState = localStorage.getItem(checkbox.id);
      if (savedState === 'true') {
        checkbox.checked = true;
      }
      checkbox.addEventListener('change', () => {
        localStorage.setItem(checkbox.id, checkbox.checked);
        if (checkbox.checked) {
          const taskText = checkbox.parentElement.textContent;
          new Notification(`TAREFA CONCLU√çDA: ${taskText}`);
        }
      });
    });
  </script>
</body>
</html>